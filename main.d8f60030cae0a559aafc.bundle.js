webpackJsonp([1],{"+h1B":function(n,t,l){"use strict";var e=l("/oeL"),u=l("aR8+"),o=l("wQAS"),i=l("q4dy"),r=l("qbdv"),a=l("fc+i"),c=l("CPp0"),s=l("wYD0"),d=l("Z04r"),f=l("LpzL"),h=l("Gqhr"),p=l("T2Au");l.d(t,"a",function(){return m});var m=e.b(u.a,[o.a],function(n){return e.c([e.d(512,e.e,e.f,[[8,[i.a]],[3,e.e],e.g]),e.d(5120,e.h,e.i,[[3,e.h]]),e.d(4608,r.a,r.b,[e.h]),e.d(4608,e.j,e.j,[]),e.d(5120,e.k,e.l,[]),e.d(5120,e.m,e.n,[]),e.d(5120,e.o,e.p,[]),e.d(4608,a.b,a.c,[r.c]),e.d(6144,e.q,null,[a.b]),e.d(4608,a.d,a.e,[]),e.d(5120,a.f,function(n,t,l,e){return[new a.g(n),new a.h(t),new a.i(l,e)]},[r.c,r.c,r.c,a.d]),e.d(4608,a.j,a.j,[a.f,e.r]),e.d(135680,a.k,a.k,[r.c]),e.d(4608,a.l,a.l,[a.j,a.k]),e.d(6144,e.s,null,[a.l]),e.d(6144,a.m,null,[a.k]),e.d(4608,e.t,e.t,[e.r]),e.d(4608,a.n,a.n,[r.c]),e.d(4608,a.o,a.o,[r.c]),e.d(4608,c.a,c.a,[]),e.d(4608,c.b,c.c,[]),e.d(5120,c.d,c.e,[]),e.d(4608,c.f,c.f,[c.a,c.b,c.d]),e.d(4608,c.g,c.h,[]),e.d(5120,c.i,c.j,[c.f,c.g]),e.d(4608,s.a,s.a,[c.i]),e.d(4608,d.a,d.a,[]),e.d(5120,d.b,d.c,[[3,d.b],e.r,d.a]),e.d(5120,d.d,d.e,[[3,d.d],d.b]),e.d(4608,d.f,d.f,[e.r,d.a]),e.d(5120,d.g,d.h,[[3,d.g],[2,c.i],a.b]),e.d(4608,d.i,d.i,[d.a]),e.d(4608,d.j,d.j,[d.i,e.r]),e.d(5120,d.k,d.l,[[3,d.k],[2,d.m],d.a]),e.d(5120,d.n,d.o,[[3,d.n]]),e.d(4608,d.p,d.p,[d.d]),e.d(4608,d.q,d.q,[d.n,e.e,d.p,e.u,e.v,e.r]),e.d(512,r.d,r.d,[]),e.d(1024,e.w,a.p,[]),e.d(1024,e.x,function(n,t){return[a.q(n,t)]},[[2,a.r],[2,e.y]]),e.d(512,e.z,e.z,[[2,e.x]]),e.d(131584,e.A,e.A,[e.r,e.B,e.v,e.w,e.e,e.z]),e.d(2048,e.u,null,[e.A]),e.d(512,e.C,e.C,[e.u]),e.d(512,a.s,a.s,[[3,a.s]]),e.d(512,c.k,c.k,[]),e.d(512,f.a,f.a,[[3,f.a]]),e.d(256,d.r,!0,[]),e.d(512,d.s,d.s,[[2,a.t],[2,d.r]]),e.d(512,d.t,d.t,[]),e.d(512,d.u,d.u,[]),e.d(512,d.v,d.v,[]),e.d(512,d.w,d.w,[]),e.d(512,d.x,d.x,[]),e.d(512,d.y,d.y,[]),e.d(512,d.z,d.z,[]),e.d(512,d.A,d.A,[]),e.d(512,d.B,d.B,[]),e.d(512,d.C,d.C,[]),e.d(512,d.D,d.D,[]),e.d(512,d.E,d.E,[]),e.d(512,d.F,d.F,[]),e.d(512,h.a,h.a,[]),e.d(512,p.a,p.a,[]),e.d(512,u.a,u.a,[])])})},0:function(n,t){},1:function(n,t,l){n.exports=l("cDNt")},"4blb":function(n,t,l){"use strict";function e(n,t){if(n)throw new Error(t+" has already been loaded. Import Core modules in the AppModule only.")}t.a=e},"9nYX":function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=function(){function n(n){this.map=n,this.hash={}}return n.prototype.merge=function(n){this.markerExists(n)?this.moveMarker(n):this.addMarker(n),this.removeFromOtherRoutes(n)},n.prototype.addMarker=function(n){this.hash[n.routeTag]=this.hash[n.routeTag]||{},this.hash[n.routeTag][n.id]=new google.maps.Marker({position:new google.maps.LatLng(n.lat,n.lon),map:this.map,title:n.id})},n.prototype.markerExists=function(n){return this.hash[n.routeTag]&&this.hash[n.routeTag][n.id]},n.prototype.moveMarker=function(n){this.hash[n.routeTag][n.id].setPosition(new google.maps.LatLng(n.lat,n.lon))},n.prototype.removeFromOtherRoutes=function(n){var t=this;Object.keys(this.hash).forEach(function(l){l!==n.routeTag&&t.hash[l][n.id]&&(t.hash[l][n.id].map=null,delete t.hash[l][n.id])})},n}()},Gqhr:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=function(){function n(){}return n}()},LpzL:function(n,t,l){"use strict";var e=l("/oeL"),u=l("4blb");l.d(t,"a",function(){return o});var o=function(){function n(n){l.i(u.a)(n,"CoreModule")}return n.ctorParameters=function(){return[{type:n,decorators:[{type:e.F},{type:e.P}]}]},n}()},T2Au:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=function(){function n(){}return n}()},YMqF:function(n,t,l){"use strict";var e=l("9nYX"),u=l("wYD0");l.d(t,"a",function(){return o});var o=function(){function n(n){this.vehicleLocations=n}return n.prototype.ngOnInit=function(){this.createMap(),this.subscribeToVehicleData()},n.prototype.ngOnDestroy=function(){clearInterval(this.interval)},n.prototype.buildMarkers=function(n){var t=this;n.locations.forEach(function(n){t.markers.merge(n)})},n.prototype.createMap=function(){this.map=new google.maps.Map(document.getElementById("vehicle-location-map"),{center:new google.maps.LatLng(37.7749,-122.4194),zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP}),this.markers=new e.a(this.map)},n.prototype.subscribeToVehicleData=function(){var n=this;this.vehicleLocations.data.subscribe(function(t){return n.buildMarkers(t)}),this.vehicleLocations.refresh("sf-muni"),this.interval=setInterval(function(){return n.vehicleLocations.refresh("sf-muni")},15e3)},n.ctorParameters=function(){return[{type:u.a}]},n}()},"aR8+":function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=function(){function n(){}return n}()},cDNt:function(n,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=l("/oeL"),u=l("p5Ee"),o=l("+h1B"),i=l("fc+i");u.a.production&&l.i(e.a)(),l.i(i.a)().bootstrapModuleFactory(o.a)},"jt7/":function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=["#vehicle-location-map[_ngcontent-%COMP%]{height:calc(100vh - 64px)}"]},k7ea:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=[".bus-sidenav[_ngcontent-%COMP%]{padding:10px;min-width:100px}.bus-toolbar-filler[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.bus-icon-button[_ngcontent-%COMP%]{box-shadow:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:none;border:none;cursor:pointer;-webkit-filter:none;filter:none;font-weight:400;height:auto;line-height:inherit;margin:0;min-width:0;padding:0;text-align:left;text-decoration:none}.bus-icon-button[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{padding:0 14px 0 14px;color:#fff}[_ngcontent-%COMP%]:focus{outline:none}"]},lo1w:function(n,t,l){"use strict";function e(n){return i._23(0,[(n()(),i._24(0,null,null,1,"div",[["id","vehicle-location-map"]],null,null,null,null,null)),(n()(),i._27(null,["\n"])),(n()(),i._27(null,["\n"]))],null,null)}function u(n){return i._23(0,[(n()(),i._24(0,null,null,1,"bus-vehicle-location-map",[],null,null,null,e,s)),i._25(245760,null,0,r.a,[a.a],null,null)],function(n,t){n(t,1,0)},null)}var o=l("jt7/"),i=l("/oeL"),r=l("YMqF"),a=l("wYD0");l.d(t,"b",function(){return s}),t.a=e;var c=[o.a],s=i._22({encapsulation:0,styles:c,data:{}});i._30("bus-vehicle-location-map",r.a,u,{},{},[])},p5Ee:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e={production:!0,dataServiceUrl:"http://webservices.nextbus.com/service/publicXMLFeed"}},q4dy:function(n,t,l){"use strict";function e(n){return i._23(0,[(n()(),i._24(0,null,null,46,"md-sidenav-container",[["fullscreen",""]],[[2,"mat-sidenav-container",null],[2,"mat-sidenav-transition",null]],null,null,r.a,r.b)),i._25(16384,null,0,a.G,[[2,a.H],i.H],null,null),i._25(1097728,null,1,a.I,[[2,a.J],i.H,i.Q,i.r],null,null),i._26(603979776,1,{_sidenavs:1}),(n()(),i._27(1,["\n  "])),(n()(),i._24(0,null,0,22,"md-sidenav",[["class","bus-sidenav"],["mode","side"],["tabIndex","-1"]],[[2,"mat-sidenav",null],[1,"align",0],[2,"mat-sidenav-closed",null],[2,"mat-sidenav-closing",null],[2,"mat-sidenav-end",null],[2,"mat-sidenav-opened",null],[2,"mat-sidenav-opening",null],[2,"mat-sidenav-over",null],[2,"mat-sidenav-push",null],[2,"mat-sidenav-side",null]],[[null,"transitionend"],[null,"keydown"]],function(n,t,l){var e=!0;if("transitionend"===t){e=!1!==i._28(n,7)._onTransitionEnd(l)&&e}if("keydown"===t){e=!1!==i._28(n,7).handleKeydown(l)&&e}return e},r.c,r.d)),i._25(16384,null,0,a.G,[[2,a.H],i.H],null,null),i._25(1228800,[[1,4],["sidenav",4]],0,a.K,[i.H,a.j],{mode:[0,"mode"]},null),(n()(),i._27(0,["\n   "])),(n()(),i._24(0,null,0,17,"md-list",[["role","list"]],[[2,"mat-list",null]],null,null,r.e,r.f)),i._25(16384,null,0,a.G,[[2,a.H],i.H],null,null),i._25(49152,null,0,a.L,[],null,null),i._25(16384,null,0,a.M,[],null,null),(n()(),i._27(0,["\n     "])),(n()(),i._24(0,null,0,11,"md-list-item",[["role","listitem"]],[[2,"mat-list-item",null]],[[null,"focus"],[null,"blur"]],function(n,t,l){var e=!0;if("focus"===t){e=!1!==i._28(n,16)._handleFocus()&&e}if("blur"===t){e=!1!==i._28(n,16)._handleBlur()&&e}return e},r.g,r.h)),i._25(16384,null,0,a.G,[[2,a.H],i.H],null,null),i._25(1097728,null,2,a.N,[i.Q,i.H,[2,a.L],[2,a.O]],null,null),i._26(603979776,2,{_lines:1}),i._26(335544320,3,{_hasAvatar:0}),(n()(),i._27(2,["\n       "])),(n()(),i._24(0,null,2,4,"md-checkbox",[["class","mat-checkbox"]],[[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null]],null,null,r.i,r.j)),i._29(5120,null,c.a,function(n){return[n]},[a.P]),i._25(16384,null,0,a.G,[[2,a.H],i.H],null,null),i._25(4374528,null,0,a.P,[i.Q,i.H,i.Z,a.f],null,null),(n()(),i._27(0,["A Checkbox"])),(n()(),i._27(2,["\n     "])),(n()(),i._27(0,["\n   "])),(n()(),i._27(0,["\n  "])),(n()(),i._27(1,["\n\n  "])),(n()(),i._24(0,null,1,13,"md-toolbar",[["color","primary"],["role","toolbar"]],[[2,"mat-toolbar",null]],null,null,r.k,r.l)),i._25(16384,null,0,a.G,[[2,a.H],i.H],null,null),i._25(49152,null,0,a.Q,[i.H,i.Q],{color:[0,"color"]},null),(n()(),i._27(0,["\n    "])),(n()(),i._24(0,null,0,6,"button",[["class","bus-icon-button"]],null,[[null,"click"]],function(n,t,l){var e=!0;if("click"===t){e=!1!==i._28(n,7).toggle()&&e}return e},null,null)),(n()(),i._27(null,["\n      "])),(n()(),i._24(0,null,null,3,"md-icon",[["role","img"]],[[2,"mat-icon",null]],null,null,r.m,r.n)),i._25(16384,null,0,a.G,[[2,a.H],i.H],null,null),i._25(9027584,null,0,a.R,[i.H,i.Q,a.g],null,null),(n()(),i._27(0,["menu"])),(n()(),i._27(null,["\n    "])),(n()(),i._27(0,[" Bus Locations\n    "])),(n()(),i._24(0,null,0,0,"span",[["class","bus-toolbar-filler"]],null,null,null,null,null)),(n()(),i._27(0,["\n  "])),(n()(),i._27(1,["\n  \n"])),(n()(),i._24(0,null,1,1,"bus-vehicle-location-map",[],null,null,null,s.a,s.b)),i._25(245760,null,0,d.a,[f.a],null,null),(n()(),i._27(1,["\n\n"])),(n()(),i._27(null,["\n"]))],function(n,t){n(t,7,0,"side");n(t,31,0,"primary"),n(t,37,0),n(t,45,0)},function(n,t){n(t,0,0,!0,i._28(t,2)._enableTransitions);n(t,5,0,!0,null,i._28(t,7)._isClosed,i._28(t,7)._isClosing,i._28(t,7)._isEnd,i._28(t,7)._isOpened,i._28(t,7)._isOpening,i._28(t,7)._modeOver,i._28(t,7)._modePush,i._28(t,7)._modeSide);n(t,9,0,!0);n(t,14,0,!0),n(t,20,0,i._28(t,23).indeterminate,i._28(t,23).checked,i._28(t,23).disabled,"before"==i._28(t,23).labelPosition);n(t,29,0,!0);n(t,35,0,!0)})}function u(n){return i._23(0,[(n()(),i._24(0,null,null,1,"bus-root",[],null,null,null,e,m)),i._25(49152,null,0,h.a,[],null,null)],null,null)}var o=l("k7ea"),i=l("/oeL"),r=l("v6Q/"),a=l("Z04r"),c=l("bm2B"),s=l("lo1w"),d=l("YMqF"),f=l("wYD0"),h=l("wQAS");l.d(t,"a",function(){return _});var p=[o.a],m=i._22({encapsulation:0,styles:p,data:{}}),_=i._30("bus-root",h.a,u,{},{},[])},qtrl:function(n,t){function l(n){throw new Error("Cannot find module '"+n+"'.")}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="qtrl"},wQAS:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=function(){function n(){this.title="Bus Schedule"}return n.ctorParameters=function(){return[]},n}()},wYD0:function(n,t,l){"use strict";var e=l("CPp0"),u=l("5v8a"),o=(l.n(u),l("rlar")),i=(l.n(o),l("Zx6d")),r=(l.n(i),l("p5Ee"));l.d(t,"a",function(){return a});var a=function(){function n(n){this.http=n,this.data=new o.Subject}return n.prototype.refresh=function(n,t){var l=this;this.http.get(r.a.dataServiceUrl,{params:{command:"vehicleLocations",a:n,t:t||0}}).map(function(n){return n.text()}).subscribe(function(n){return l.unpackXML(n)})},n.prototype.unpackXML=function(n){var t=this;l.i(i.parseString)(n,{explicitArray:!1,mergeAttrs:!0},function(n,l){t.data.next({lastTime:parseInt(l.body.lastTime.time,10),locations:l.body.vehicle?Array.isArray(l.body.vehicle)?l.body.vehicle:[l.body.vehicle]:[]})})},n.ctorParameters=function(){return[{type:e.i}]},n}()}},[1]);